<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>UNO Web Game</title>
<link href="src/css/style.css" rel="stylesheet"/>
</head>
<body>
<div class="animated-bg">
<div class="animated-circle red" style="width:180px;height:180px;left:10vw;animation-delay:0s;"></div>
<div class="animated-circle green" style="width:120px;height:120px;left:70vw;animation-delay:3s;"></div>
<div class="animated-circle blue" style="width:140px;height:140px;left:40vw;animation-delay:6s;"></div>
<div class="animated-circle yellow" style="width:100px;height:100px;left:80vw;animation-delay:9s;"></div>
<div class="animated-circle red" style="width:90px;height:90px;left:25vw;animation-delay:12s;"></div>
<div class="animated-circle green" style="width:110px;height:110px;left:55vw;animation-delay:15s;"></div>
<!-- UNO cards will be dynamically generated by JS -->
</div>
<main id="main-container">
<!-- Login Screen (Username & Password) -->
<section class="active-screen" id="login-screen">
<h1>UNO</h1>
<form autocomplete="off" id="login-form">
<label for="backend-url">Backend URL (for multiplayer)</label>
<input id="backend-url" name="backend-url" placeholder="https://your-backend.onrender.com" type="text"/>
<p class="small-note" style="margin-top:0.5rem; opacity:0.85;">
    If you leave this empty, multiplayer may not work. Singleplayer still works.
  </p>
<label for="username">Username</label>
<input id="username" maxlength="16" name="username" placeholder="Username" required="" type="text"/>
<div style="margin-top:1rem;">
<div style="margin-bottom:0.5rem;">Choose Avatar</div>
<div class="avatar-picker" style="display:flex; gap:12px; flex-wrap:wrap; justify-content:center;">
<img alt="avatar 1" class="avatar-option selected" data-avatar="public/assets/images/avatar/exported avatar/ava-1.svg" src="public/assets/images/avatar/exported avatar/ava-1.svg" style="width:64px;height:64px;border-radius:50%;border:3px solid #fff;cursor:pointer;"/>
<img alt="avatar 2" class="avatar-option" data-avatar="public/assets/images/avatar/exported avatar/ava-2.svg" src="public/assets/images/avatar/exported avatar/ava-2.svg" style="width:64px;height:64px;border-radius:50%;border:3px solid transparent;cursor:pointer;"/>
<img alt="avatar 3" class="avatar-option" data-avatar="public/assets/images/avatar/exported avatar/ava-3.svg" src="public/assets/images/avatar/exported avatar/ava-3.svg" style="width:64px;height:64px;border-radius:50%;border:3px solid transparent;cursor:pointer;"/>
<img alt="avatar 4" class="avatar-option" data-avatar="public/assets/images/avatar/exported avatar/ava-4.svg" src="public/assets/images/avatar/exported avatar/ava-4.svg" style="width:64px;height:64px;border-radius:50%;border:3px solid transparent;cursor:pointer;"/>
<img alt="avatar 5" class="avatar-option" data-avatar="public/assets/images/avatar/exported avatar/ava-5.svg" src="public/assets/images/avatar/exported avatar/ava-5.svg" style="width:64px;height:64px;border-radius:50%;border:3px solid transparent;cursor:pointer;"/>
<img alt="avatar 6" class="avatar-option" data-avatar="public/assets/images/avatar/exported avatar/ava-6.svg" src="public/assets/images/avatar/exported avatar/ava-6.svg" style="width:64px;height:64px;border-radius:50%;border:3px solid transparent;cursor:pointer;"/>
</div>
</div>
<button class="btn" style="display:block;margin:1.2rem auto;" type="submit">Continue</button>
<div class="error-message" id="login-error"></div>
</form>
</section>
<!-- Register Screen -->
<section class="hidden-screen" id="register-screen">
<h1>Register</h1>
<form autocomplete="off" id="register-form">
<label for="reg-name">Name</label>
<input id="reg-name" maxlength="32" name="reg-name" placeholder="Full Name" required="" type="text"/>
<label for="reg-username">Username</label>
<input id="reg-username" maxlength="16" name="reg-username" placeholder="Username" required="" type="text"/>
<label for="reg-password">Create Password</label>
<input id="reg-password" maxlength="16" name="reg-password" placeholder="Password" required="" type="password"/>
<label for="reg-confirm">Confirm Password</label>
<input id="reg-confirm" maxlength="16" name="reg-confirm" placeholder="Confirm Password" required="" type="password"/>
<label for="reg-avatar">Choose Avatar</label>
<div class="avatar-select-group">
<input id="avatar1" name="reg-avatar" required="" type="radio" value="public/assets/images/avatar/exported avatar/ava-1.svg"/>
<label for="avatar1"><img alt="Avatar 1" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-1.svg"/></label>
<input id="avatar2" name="reg-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-2.svg"/>
<label for="avatar2"><img alt="Avatar 2" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-2.svg"/></label>
<input id="avatar3" name="reg-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-3.svg"/>
<label for="avatar3"><img alt="Avatar 3" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-3.svg"/></label>
<input id="avatar4" name="reg-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-4.svg"/>
<label for="avatar4"><img alt="Avatar 4" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-4.svg"/></label>
<input id="avatar5" name="reg-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-5.svg"/>
<label for="avatar5"><img alt="Avatar 5" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-5.svg"/></label>
<input id="avatar6" name="reg-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-6.svg"/>
<label for="avatar6"><img alt="Avatar 6" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-6.svg"/></label>
</div>
<button class="btn" style="display:block;margin:1.2rem auto 0 auto;" type="submit">Register</button>
<div class="error-message" id="register-error"></div>
<div class="register-link" style="text-align:center;margin-top:1.1rem;;display:none;">
                    Already have an account? <button id="sign-in-link" style="background:none;border:none;color:#e74c3c;font-weight:bold;cursor:pointer;text-decoration:underline;font-size:1rem;" type="button">Sign in</button>
</div>
</form>
</section>
<!-- Dashboard: Game Mode Selection -->
<section class="hidden-screen" id="mode-screen">
<button class="profile-btn" id="profile-btn" style="left:1.2rem;right:auto;top:1.2rem;position:absolute;">
<img alt="Avatar" class="avatar-img" id="profile-avatar" src="public/assets/images/avatar/exported avatar/ava-1.svg" style="width:36px;height:36px;vertical-align:middle;"/> Profile
            </button>
<div class="profile-player-name" id="profile-player-name" style="position:absolute;left:1.2rem;top:4.5rem;color:#fff;font-weight:bold;text-shadow:1px 1px 4px #000;font-size:1.1rem;"></div>
<button class="logout-btn" id="logout-btn" style="right:1.2rem;left:auto;top:1.2rem;position:absolute;">Logout</button>
<h2>Choose Game Mode</h2>
<div class="button-group">
<button class="btn" id="multiplayer-btn">Multiplayer</button>
<button class="btn" id="howtoplay-btn">How to Play</button>
</div>
</section>
<!-- How to Play Modal/Screen -->
<section class="hidden-screen" id="howtoplay-screen">
<button class="btn back-btn" id="back-to-home">Back</button>
<h2>How to Play UNO</h2>
<div class="howtoplay-content">
<h3>ğŸ§© Objective</h3>
<p>Be the first player to get rid of all your cards.</p>
<hr/>
<h3>ğŸ´ Setup</h3>
<ul>
<li>Each player is dealt <b>7 cards</b>.</li>
<li>The rest go into a <b>draw pile</b>.</li>
<li>The top card of the draw pile starts the <b>discard pile</b>.</li>
</ul>
<hr/>
<h3>ğŸ¨ Card Types</h3>
<ul>
<li><b>Number Cards (0â€“9)</b> in 4 colors: Red, Green, Blue, Yellow</li>
<li><b>Action Cards:</b>
<ul>
<li><b>Skip</b> (ğŸ›‘): Next player's turn is skipped.</li>
<li><b>Reverse</b> (ğŸ”„): Reverses the play direction.</li>
<li><b>Draw Two (+2)</b>: Next player draws 2 cards and loses a turn.</li>
</ul>
</li>
<li><b>Wild Cards:</b>
<ul>
<li><b>Wild</b>: Player chooses a new color.</li>
<li><b>Wild Draw Four (+4)</b>: Choose a color; next player draws 4 and loses a turn (only if you have no matching color).</li>
</ul>
</li>
</ul>
<hr/>
<h3>ğŸ•¹ï¸ Gameplay</h3>
<ol>
<li>Players take turns in clockwise order.</li>
<li>On your turn, you can:
                        <ul>
<li>Play a card that <b>matches</b> the top card by <b>color</b> or <b>number/type</b>.</li>
<li>Play a <b>Wild card</b>.</li>
<li>Or <b>draw</b> one card if you can't play.
                                <ul>
<li>If the drawn card is playable, you may play it immediately.</li>
</ul>
</li>
</ul>
</li>
<li>If you have one card left, say <b>"UNO"</b>!</li>
<li>First player to discard all cards wins.</li>
</ol>
<hr/>
<h3>ğŸš« Penalties</h3>
<ul>
<li>Forgetting to say "UNO" before playing your second-last card = draw 2 cards.</li>
<li>Playing a Wild Draw Four illegally = draw 4 cards after challenge.</li>
</ul>
<hr/>
<h3>ğŸ† Winning</h3>
<ul>
<li>The round ends when a player plays their last card.</li>
<li>Points can be tracked by counting the total value of cards left in other players' hands.</li>
</ul>
</div>
<button class="btn ok-btn" id="ok-to-home" style="margin-top:1.5rem;">OK</button>
</section>
<!-- Multiplayer Options -->
<section class="hidden-screen" id="multiplayer-options">
<button class="btn back-btn" id="back-to-mode">Back</button>
<h2>Multiplayer</h2>
<div class="button-group">
<button class="btn" id="create-room-btn">Create Room</button>
<button class="btn" id="join-room-btn">Join Room</button>
</div>
</section>
<!-- Create Room Form -->
<section class="hidden-screen" id="create-room-form">
<button class="btn back-btn" id="back-to-multiplayer">Back</button>
<h2>Create Room</h2>
<form id="room-create-form" style="display:flex;flex-direction:column;align-items:center;">
<label for="room-size">Number of Players</label>
<select id="room-size" name="room-size" required="" style="margin-bottom:1rem;">
<option value="2">2 Players</option>
<option value="3">3 Players</option>
<option value="4">4 Players</option>
</select>
<button class="btn" style="margin-top:0.7rem;display:block;align-self:center;" type="submit">Create</button>
</form>
<div class="hidden-screen" id="room-code-section">
<p>Your room code:</p>
<div class="room-code-box" id="room-code"></div>
<p>Share this code with your friends to join the room.</p>
</div>
</section>
<!-- Join Room Form -->
<section class="hidden-screen" id="join-room-form">
<button class="btn back-btn" id="back-to-multiplayer2">Back</button>
<h2>Join Room</h2>
<form id="room-join-form" style="display:flex;flex-direction:column;align-items:center;">
<label for="join-room-code">Enter Room Code</label>
<input id="join-room-code" maxlength="8" name="join-room-code" placeholder="Room code" required="" style="margin-bottom:1rem;" type="text"/>
<button class="btn" style="margin-top:0.7rem;display:block;align-self:center;" type="submit">Join</button>
</form>
</section>
<!-- Profile Modal/Screen -->
<section class="hidden-screen" id="profile-screen">
<button class="btn back-btn" id="back-to-home-profile">Back</button>
<h2>Player Profile</h2>
<div class="profile-content">
<div class="profile-avatar-section">
<img alt="Avatar" class="avatar-img" id="profile-avatar-large" src="public/assets/images/avatar/exported avatar/ava-1.svg" style="width:72px;height:72px;"/>
<form id="change-avatar-form">
<div class="avatar-select-group">
<input id="profile-avatar1" name="profile-avatar" required="" type="radio" value="public/assets/images/avatar/exported avatar/ava-1.svg"/>
<label for="profile-avatar1"><img alt="Avatar 1" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-1.svg"/></label>
<input id="profile-avatar2" name="profile-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-2.svg"/>
<label for="profile-avatar2"><img alt="Avatar 2" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-2.svg"/></label>
<input id="profile-avatar3" name="profile-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-3.svg"/>
<label for="profile-avatar3"><img alt="Avatar 3" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-3.svg"/></label>
<input id="profile-avatar4" name="profile-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-4.svg"/>
<label for="profile-avatar4"><img alt="Avatar 4" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-4.svg"/></label>
<input id="profile-avatar5" name="profile-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-5.svg"/>
<label for="profile-avatar5"><img alt="Avatar 5" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-5.svg"/></label>
<input id="profile-avatar6" name="profile-avatar" type="radio" value="public/assets/images/avatar/exported avatar/ava-6.svg"/>
<label for="profile-avatar6"><img alt="Avatar 6" class="avatar-img" src="public/assets/images/avatar/exported avatar/ava-6.svg"/></label>
</div>
<button class="btn" style="display: block; margin: 1.2rem auto;" type="submit">Change Avatar</button>
</form>
</div>
<div class="profile-info">
<p><b>Name:</b> <span id="profile-name"></span></p>
<p><b>Username:</b> <span id="profile-username"></span></p>
<p><b>Games Played:</b> <span id="profile-played">0</span></p>
<p><b>Games Won:</b> <span id="profile-won">0</span></p>
<p><b>Games Lost:</b> <span id="profile-lost">0</span></p>
</div>
</div>
</section>
<!-- Lobby Screen -->
<section class="hidden-screen" id="lobby-screen">
<button class="btn back-btn" id="lobby-back-btn" style="position:absolute;left:1.2rem;top:1.2rem;z-index:2;">Back</button>
<h2 style="color: #FFD600; text-shadow: 2px 2px 8px #b71c1c; margin-bottom: 0.5rem; text-align:center;">ONLINE MULTIPLAYER</h2>
<div class="lobby-room-code-box">
<span style="font-size:1.1rem; color:#fff;">Room Code :</span>
<span id="lobby-room-code" style="font-size:2rem; font-weight:bold; color:#FFD600; letter-spacing:2px; background:#fff2; padding:0.2em 0.7em; border-radius:8px; margin:0 0.5em;">00000000</span>
<button id="copy-room-code" style="background:none; border:none; cursor:pointer; font-size:1.3rem; color:#FFD600; margin-left:0.2em;" title="Copy Code">ğŸ“‹</button>
</div>
<div class="lobby-players" style="display:flex; flex-direction:column; align-items:center; gap:1.2rem; margin-top:1.2rem;">
<div class="lobby-player-slot admin-slot" style="display:flex; flex-direction:column; align-items:center;">
<div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; padding:0.5em 1em;">
<img alt="Admin Avatar" id="lobby-admin-avatar" src="public/assets/images/avatar/exported avatar/ava-1.svg" style="width:90px; height:90px; border-radius:16px; border:3px solid #FFD600; background:#fff;"/>
</div>
<div id="lobby-admin-name" style="color:#fff; font-weight:bold; font-size:1.2rem; margin-top:0.5em; text-shadow:1px 1px 4px #000;">AdminName</div>
</div>
<div style="font-size:2rem; color:#FFD600; font-weight:bold; text-shadow:1px 1px 8px #b71c1c; margin:0.5em 0;">VS</div>
<div class="lobby-other-players" style="display:flex; gap:2.5rem; justify-content:center;">
<div class="lobby-player-slot" id="lobby-slot-2" style="width:90px; height:110px; display:flex; flex-direction:column; align-items:center;">
<div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; width:90px; height:90px; display:flex; align-items:center; justify-content:center;">
<img alt="Add Player" src="public/assets/images/add-user.svg" style="width:60px; height:60px; opacity:0.7;"/>
</div>
<div class="lobby-player-name" style="color:#fff; font-weight:bold; font-size:1rem; margin-top:0.3em; text-shadow:1px 1px 4px #000;">Waiting...</div>
</div>
<div class="lobby-player-slot" id="lobby-slot-3" style="width:90px; height:110px; display:flex; flex-direction:column; align-items:center;">
<div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; width:90px; height:90px; display:flex; align-items:center; justify-content:center;">
<img alt="Add Player" src="public/assets/images/add-user.svg" style="width:60px; height:60px; opacity:0.7;"/>
</div>
<div class="lobby-player-name" style="color:#fff; font-weight:bold; font-size:1rem; margin-top:0.3em; text-shadow:1px 1px 4px #000;">Waiting...</div>
</div>
<div class="lobby-player-slot" id="lobby-slot-4" style="width:90px; height:110px; display:flex; flex-direction:column; align-items:center;">
<div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; width:90px; height:90px; display:flex; align-items:center; justify-content:center;">
<img alt="Add Player" src="public/assets/images/add-user.svg" style="width:60px; height:60px; opacity:0.7;"/>
</div>
<div class="lobby-player-name" style="color:#fff; font-weight:bold; font-size:1rem; margin-top:0.3em; text-shadow:1px 1px 4px #000;">Waiting...</div>
</div>
</div>
</div>
<div style="text-align:center; margin-top:2.2rem;">
<button class="btn" id="lobby-start-btn" style="background:#FFD600; color:#b71c1c; font-weight:bold; font-size:1.2rem; padding:0.7em 2.5em; border-radius:12px; box-shadow:0 2px 8px #0005; display:none;">Start</button>
</div>
</section>
<!-- Game Screen -->
<section class="hidden-screen" id="game-screen">
<button class="btn back-btn" id="game-exit-btn" style="position:absolute;left:1.2rem;top:1.2rem;z-index:2;">Exit</button>
<!-- Player Info Display -->
<div id="game-player-info" style="position:absolute;right:1.2rem;top:1.2rem;z-index:2;display:flex;align-items:center;gap:0.6rem;background:rgba(0,0,0,0.8);padding:0.5rem 0.8rem;border-radius:8px;border:2px solid #FFD600;max-width:200px;">
<img alt="Player Avatar" id="game-player-avatar" src="public/assets/images/avatar/exported avatar/ava-1.svg" style="width:36px;height:36px;border-radius:6px;border:2px solid #FFD600;background:#fff;"/>
<div style="display:flex;flex-direction:column;">
<span id="game-player-name" style="color:#fff;font-weight:bold;font-size:0.9rem;text-shadow:1px 1px 2px #000;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:120px;">Player Name</span>
<span style="color:#FFD600;font-size:0.7rem;font-weight:bold;">You</span>
</div>
</div>
<h2 style="color: #FFD600; text-shadow: 2px 2px 8px #b71c1c; margin-bottom: 0.5rem; margin-top: 4rem; text-align:center;">UNO GAME</h2>
<div id="game-info" style="margin-bottom:1rem;text-align:center;"></div>
<div id="game-table" style="display:flex;flex-direction:column;align-items:center;gap:1.5rem;max-width:90vw;margin:0 auto;">
<div id="top-card-area" style="margin-bottom:1.2rem;">
<span style="color:#fff;font-weight:bold;">Top Card:</span>
<img alt="Top Card" id="top-card-img" src="" style="vertical-align:middle;"/>
<span id="current-color-indicator" style="display:inline-block;width:22px;height:22px;border-radius:50%;margin-left:0.7em;vertical-align:middle;"></span>
<!-- Drawn card display moved to top card area -->
<div class="hidden-screen" id="drawn-card-options">
<div id="drawn-card-display">
<span style="color:#fff; font-weight:bold;">You Drew:</span>
<div id="drawn-card-visual"></div>
</div>
<div style="display:flex; gap:1rem;">
<button class="btn" id="play-drawn-card-btn">Play Drawn Card</button>
<button class="btn" id="pass-drawn-card-btn" style="background:var(--uno-gray);">Keep Card &amp; Pass</button>
</div>
</div>
</div>
<div id="player-hand-area" style="margin-bottom:1.2rem;">
<span style="color:#fff;font-weight:bold;">Your Hand:</span>
<div id="player-hand" style="display:flex;gap:0.5rem;flex-wrap:wrap;margin-top:0.7rem;justify-content:center;"></div>
</div>
<div>
<button class="btn" id="draw-card-btn" style="background:#FFD600;color:#b71c1c;font-weight:bold;">Draw Card</button>
</div>
<!-- UNO Call Buttons -->
<div class="hidden-screen" id="uno-call-section" style="margin-top:1rem;">
<button class="uno-call-btn" id="call-uno-btn">
<span class="uno-call-text">âš¡ Call UNO! âš¡</span>
</button>
</div>
<!-- Self UNO Button (for when you have 1 card) -->
<div class="hidden-screen" id="uno-self-section" style="margin-top:1rem;">
<button class="uno-self-btn" id="call-uno-self-btn">
<span class="uno-self-text">ğŸ¯ Call UNO (Safe!) ğŸ¯</span>
</button>
<div style="color:#FFD600;font-size:0.9rem;margin-top:0.5rem;text-align:center;">
                        Click to declare UNO and avoid penalty!
                    </div>
</div>
<div id="game-message" style="color:#FFD600;font-weight:bold;margin-top:1.2rem;min-height:1.5em;text-align:center;"></div>
</div>
</section>
<!-- Victory Screen (Separate Page) -->
<section class="hidden-screen" id="victory-screen">
<div class="victory-content">
<div class="victory-title">
                    ğŸ‰ <span id="victory-winner-name">Winner Name</span> Wins! ğŸ‰
                </div>
<ul class="victory-players-list" id="victory-players-list">
<!-- Player names will be injected here -->
</ul>
<div class="victory-buttons">
<button class="victory-btn" id="victory-restart-btn">Restart</button>
<button class="victory-btn" id="victory-exit-btn">Exit</button>
</div>
</div>
</section>
<!-- End Victory Screen -->
</main>
<button id="mute-toggle" style="
  position: fixed;
  top: 20px;
  right: 20px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  padding: 10px;
  cursor: pointer;
  z-index: 1000;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
">
  ğŸ”Š
</button>
<!-- JS files -->
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="src/js/app.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNO Web Game</title>
    <link rel="stylesheet" href="src/css/style.css">
</head>
<body>
    <div class="animated-bg">
        <div class="animated-circle red" style="width:180px;height:180px;left:10vw;animation-delay:0s;"></div>
        <div class="animated-circle green" style="width:120px;height:120px;left:70vw;animation-delay:3s;"></div>
        <div class="animated-circle blue" style="width:140px;height:140px;left:40vw;animation-delay:6s;"></div>
        <div class="animated-circle yellow" style="width:100px;height:100px;left:80vw;animation-delay:9s;"></div>
        <div class="animated-circle red" style="width:90px;height:90px;left:25vw;animation-delay:12s;"></div>
        <div class="animated-circle green" style="width:110px;height:110px;left:55vw;animation-delay:15s;"></div>
        <!-- UNO cards will be dynamically generated by JS -->
    </div>
    <main id="main-container">
        <!-- Login Screen (Username & Password) -->
        <section id="login-screen" class="active-screen">
            <h1>UNO</h1>
            <form id="login-form" autocomplete="off">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" required maxlength="16" placeholder="Username">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required maxlength="16" placeholder="Password">
                <button type="submit" class="btn" style="display:block;margin:1.2rem auto;">Login</button>
                <div id="login-error" class="error-message"></div>
            </form>
            <div class="register-link">
                New user? <a href="#" id="show-register">Register</a>
            </div>
        </section>

        <!-- Register Screen -->
        <section id="register-screen" class="hidden-screen">
            <h1>Register</h1>
            <form id="register-form" autocomplete="off">
                <label for="reg-name">Name</label>
                <input type="text" id="reg-name" name="reg-name" required maxlength="32" placeholder="Full Name">
                <label for="reg-username">Username</label>
                <input type="text" id="reg-username" name="reg-username" required maxlength="16" placeholder="Username">
                <label for="reg-password">Create Password</label>
                <input type="password" id="reg-password" name="reg-password" required maxlength="16" placeholder="Password">
                <label for="reg-confirm">Confirm Password</label>
                <input type="password" id="reg-confirm" name="reg-confirm" required maxlength="16" placeholder="Confirm Password">
                <label for="reg-avatar">Choose Avatar</label>
                <div class="avatar-select-group">
                    <input type="radio" id="avatar1" name="reg-avatar" value="public/assets/images/avatar/exported avatar/ava-1.svg" required>
                    <label for="avatar1"><img src="public/assets/images/avatar/exported avatar/ava-1.svg" alt="Avatar 1" class="avatar-img"></label>
                    <input type="radio" id="avatar2" name="reg-avatar" value="public/assets/images/avatar/exported avatar/ava-2.svg">
                    <label for="avatar2"><img src="public/assets/images/avatar/exported avatar/ava-2.svg" alt="Avatar 2" class="avatar-img"></label>
                    <input type="radio" id="avatar3" name="reg-avatar" value="public/assets/images/avatar/exported avatar/ava-3.svg">
                    <label for="avatar3"><img src="public/assets/images/avatar/exported avatar/ava-3.svg" alt="Avatar 3" class="avatar-img"></label>
                    <input type="radio" id="avatar4" name="reg-avatar" value="public/assets/images/avatar/exported avatar/ava-4.svg">
                    <label for="avatar4"><img src="public/assets/images/avatar/exported avatar/ava-4.svg" alt="Avatar 4" class="avatar-img"></label>
                    <input type="radio" id="avatar5" name="reg-avatar" value="public/assets/images/avatar/exported avatar/ava-5.svg">
                    <label for="avatar5"><img src="public/assets/images/avatar/exported avatar/ava-5.svg" alt="Avatar 5" class="avatar-img"></label>
                    <input type="radio" id="avatar6" name="reg-avatar" value="public/assets/images/avatar/exported avatar/ava-6.svg">
                    <label for="avatar6"><img src="public/assets/images/avatar/exported avatar/ava-6.svg" alt="Avatar 6" class="avatar-img"></label>
                </div>
                <button type="submit" class="btn" style="display:block;margin:1.2rem auto 0 auto;">Register</button>
                <div id="register-error" class="error-message"></div>
                <div class="register-link" style="text-align:center;margin-top:1.1rem;">
                    Already have an account? <button id="sign-in-link" type="button" style="background:none;border:none;color:#e74c3c;font-weight:bold;cursor:pointer;text-decoration:underline;font-size:1rem;">Sign in</button>
                </div>
            </form>
        </section>

        <!-- Dashboard: Game Mode Selection -->
        <section id="mode-screen" class="hidden-screen">
            <button class="profile-btn" id="profile-btn" style="left:1.2rem;right:auto;top:1.2rem;position:absolute;">
                <img id="profile-avatar" src="public/assets/images/avatar/exported avatar/ava-1.svg" alt="Avatar" class="avatar-img" style="width:36px;height:36px;vertical-align:middle;"> Profile
            </button>
            <div id="profile-player-name" class="profile-player-name" style="position:absolute;left:1.2rem;top:4.5rem;color:#fff;font-weight:bold;text-shadow:1px 1px 4px #000;font-size:1.1rem;"></div>
            <button class="logout-btn" id="logout-btn" style="right:1.2rem;left:auto;top:1.2rem;position:absolute;">Logout</button>
            <h2>Choose Game Mode</h2>
            <div class="button-group">
                <button id="multiplayer-btn" class="btn">Multiplayer</button>
                <button id="howtoplay-btn" class="btn">How to Play</button>
            </div>
        </section>

        <!-- How to Play Modal/Screen -->
        <section id="howtoplay-screen" class="hidden-screen">
            <button class="btn back-btn" id="back-to-home">Back</button>
            <h2>How to Play UNO</h2>
            <div class="howtoplay-content">
                <h3>üß© Objective</h3>
                <p>Be the first player to get rid of all your cards.</p>
                <hr>
                <h3>üé¥ Setup</h3>
                <ul>
                    <li>Each player is dealt <b>7 cards</b>.</li>
                    <li>The rest go into a <b>draw pile</b>.</li>
                    <li>The top card of the draw pile starts the <b>discard pile</b>.</li>
                </ul>
                <hr>
                <h3>üé® Card Types</h3>
                <ul>
                    <li><b>Number Cards (0‚Äì9)</b> in 4 colors: Red, Green, Blue, Yellow</li>
                    <li><b>Action Cards:</b>
                        <ul>
                            <li><b>Skip</b> (üõë): Next player's turn is skipped.</li>
                            <li><b>Reverse</b> (üîÑ): Reverses the play direction.</li>
                            <li><b>Draw Two (+2)</b>: Next player draws 2 cards and loses a turn.</li>
                        </ul>
                    </li>
                    <li><b>Wild Cards:</b>
                        <ul>
                            <li><b>Wild</b>: Player chooses a new color.</li>
                            <li><b>Wild Draw Four (+4)</b>: Choose a color; next player draws 4 and loses a turn (only if you have no matching color).</li>
                        </ul>
                    </li>
                </ul>
                <hr>
                <h3>üïπÔ∏è Gameplay</h3>
                <ol>
                    <li>Players take turns in clockwise order.</li>
                    <li>On your turn, you can:
                        <ul>
                            <li>Play a card that <b>matches</b> the top card by <b>color</b> or <b>number/type</b>.</li>
                            <li>Play a <b>Wild card</b>.</li>
                            <li>Or <b>draw</b> one card if you can't play.
                                <ul>
                                    <li>If the drawn card is playable, you may play it immediately.</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>If you have one card left, say <b>"UNO"</b>!</li>
                    <li>First player to discard all cards wins.</li>
                </ol>
                <hr>
                <h3>üö´ Penalties</h3>
                <ul>
                    <li>Forgetting to say "UNO" before playing your second-last card = draw 2 cards.</li>
                    <li>Playing a Wild Draw Four illegally = draw 4 cards after challenge.</li>
                </ul>
                <hr>
                <h3>üèÜ Winning</h3>
                <ul>
                    <li>The round ends when a player plays their last card.</li>
                    <li>Points can be tracked by counting the total value of cards left in other players' hands.</li>
                </ul>
            </div>
            <button class="btn ok-btn" id="ok-to-home" style="margin-top:1.5rem;">OK</button>
        </section>

        <!-- Multiplayer Options -->
        <section id="multiplayer-options" class="hidden-screen">
            <button class="btn back-btn" id="back-to-mode">Back</button>
            <h2>Multiplayer</h2>
            <div class="button-group">
                <button id="create-room-btn" class="btn">Create Room</button>
                <button id="join-room-btn" class="btn">Join Room</button>
            </div>
        </section>

        <!-- Create Room Form -->
        <section id="create-room-form" class="hidden-screen">
            <button class="btn back-btn" id="back-to-multiplayer">Back</button>
            <h2>Create Room</h2>
            <form id="room-create-form" style="display:flex;flex-direction:column;align-items:center;">
                <label for="room-size">Number of Players</label>
                <select id="room-size" name="room-size" required style="margin-bottom:1rem;">
                    <option value="2">2 Players</option>
                    <option value="3">3 Players</option>
                    <option value="4">4 Players</option>
                </select>
                <button type="submit" class="btn" style="margin-top:0.7rem;display:block;align-self:center;">Create</button>
            </form>
            <div id="room-code-section" class="hidden-screen">
                <p>Your room code:</p>
                <div id="room-code" class="room-code-box"></div>
                <p>Share this code with your friends to join the room.</p>
            </div>
        </section>

        <!-- Join Room Form -->
        <section id="join-room-form" class="hidden-screen">
            <button class="btn back-btn" id="back-to-multiplayer2">Back</button>
            <h2>Join Room</h2>
            <form id="room-join-form" style="display:flex;flex-direction:column;align-items:center;">
                <label for="join-room-code">Enter Room Code</label>
                <input type="text" id="join-room-code" name="join-room-code" maxlength="8" required placeholder="Room code" style="margin-bottom:1rem;">
                <button type="submit" class="btn" style="margin-top:0.7rem;display:block;align-self:center;">Join</button>
            </form>
        </section>

        <!-- Profile Modal/Screen -->
        <section id="profile-screen" class="hidden-screen">
            <button class="btn back-btn" id="back-to-home-profile">Back</button>
            <h2>Player Profile</h2>
            <div class="profile-content">
                <div class="profile-avatar-section">
                    <img id="profile-avatar-large" src="public/assets/images/avatar/exported avatar/ava-1.svg" alt="Avatar" class="avatar-img" style="width:72px;height:72px;">
                    <form id="change-avatar-form">
                        <div class="avatar-select-group">
                            <input type="radio" id="profile-avatar1" name="profile-avatar" value="public/assets/images/avatar/exported avatar/ava-1.svg" required>
                            <label for="profile-avatar1"><img src="public/assets/images/avatar/exported avatar/ava-1.svg" alt="Avatar 1" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar2" name="profile-avatar" value="public/assets/images/avatar/exported avatar/ava-2.svg">
                            <label for="profile-avatar2"><img src="public/assets/images/avatar/exported avatar/ava-2.svg" alt="Avatar 2" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar3" name="profile-avatar" value="public/assets/images/avatar/exported avatar/ava-3.svg">
                            <label for="profile-avatar3"><img src="public/assets/images/avatar/exported avatar/ava-3.svg" alt="Avatar 3" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar4" name="profile-avatar" value="public/assets/images/avatar/exported avatar/ava-4.svg">
                            <label for="profile-avatar4"><img src="public/assets/images/avatar/exported avatar/ava-4.svg" alt="Avatar 4" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar5" name="profile-avatar" value="public/assets/images/avatar/exported avatar/ava-5.svg">
                            <label for="profile-avatar5"><img src="public/assets/images/avatar/exported avatar/ava-5.svg" alt="Avatar 5" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar6" name="profile-avatar" value="public/assets/images/avatar/exported avatar/ava-6.svg">
                            <label for="profile-avatar6"><img src="public/assets/images/avatar/exported avatar/ava-6.svg" alt="Avatar 6" class="avatar-img"></label>
                        </div>
                        <button type="submit" class="btn" style="display: block; margin: 1.2rem auto;">Change Avatar</button>
                    </form>
                </div>
                <div class="profile-info">
                    <p><b>Name:</b> <span id="profile-name"></span></p>
                    <p><b>Username:</b> <span id="profile-username"></span></p>
                    <p><b>Games Played:</b> <span id="profile-played">0</span></p>
                    <p><b>Games Won:</b> <span id="profile-won">0</span></p>
                    <p><b>Games Lost:</b> <span id="profile-lost">0</span></p>
                </div>
            </div>
        </section>

        <!-- Lobby Screen -->
        <section id="lobby-screen" class="hidden-screen">
            <button class="btn back-btn" id="lobby-back-btn" style="position:absolute;left:1.2rem;top:1.2rem;z-index:2;">Back</button>
            <h2 style="color: #FFD600; text-shadow: 2px 2px 8px #b71c1c; margin-bottom: 0.5rem; text-align:center;">ONLINE MULTIPLAYER</h2>
            <div class="lobby-room-code-box">
                <span style="font-size:1.1rem; color:#fff;">Room Code :</span>
                <span id="lobby-room-code" style="font-size:2rem; font-weight:bold; color:#FFD600; letter-spacing:2px; background:#fff2; padding:0.2em 0.7em; border-radius:8px; margin:0 0.5em;">00000000</span>
                <button id="copy-room-code" title="Copy Code" style="background:none; border:none; cursor:pointer; font-size:1.3rem; color:#FFD600; margin-left:0.2em;">üìã</button>
            </div>
            <div class="lobby-players" style="display:flex; flex-direction:column; align-items:center; gap:1.2rem; margin-top:1.2rem;">
                <div class="lobby-player-slot admin-slot" style="display:flex; flex-direction:column; align-items:center;">
                    <div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; padding:0.5em 1em;">
                        <img id="lobby-admin-avatar" src="public/assets/images/avatar/exported avatar/ava-1.svg" alt="Admin Avatar" style="width:90px; height:90px; border-radius:16px; border:3px solid #FFD600; background:#fff;">
                    </div>
                    <div id="lobby-admin-name" style="color:#fff; font-weight:bold; font-size:1.2rem; margin-top:0.5em; text-shadow:1px 1px 4px #000;">AdminName</div>
                </div>
                <div style="font-size:2rem; color:#FFD600; font-weight:bold; text-shadow:1px 1px 8px #b71c1c; margin:0.5em 0;">VS</div>
                <div class="lobby-other-players" style="display:flex; gap:2.5rem; justify-content:center;">
                    <div class="lobby-player-slot" id="lobby-slot-2" style="width:90px; height:110px; display:flex; flex-direction:column; align-items:center;">
                        <div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; width:90px; height:90px; display:flex; align-items:center; justify-content:center;">
                            <img src="public/assets/images/add-user.svg" alt="Add Player" style="width:60px; height:60px; opacity:0.7;">
                        </div>
                        <div class="lobby-player-name" style="color:#fff; font-weight:bold; font-size:1rem; margin-top:0.3em; text-shadow:1px 1px 4px #000;">Waiting...</div>
                    </div>
                    <div class="lobby-player-slot" id="lobby-slot-3" style="width:90px; height:110px; display:flex; flex-direction:column; align-items:center;">
                        <div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; width:90px; height:90px; display:flex; align-items:center; justify-content:center;">
                            <img src="public/assets/images/add-user.svg" alt="Add Player" style="width:60px; height:60px; opacity:0.7;">
                        </div>
                        <div class="lobby-player-name" style="color:#fff; font-weight:bold; font-size:1rem; margin-top:0.3em; text-shadow:1px 1px 4px #000;">Waiting...</div>
                    </div>
                    <div class="lobby-player-slot" id="lobby-slot-4" style="width:90px; height:110px; display:flex; flex-direction:column; align-items:center;">
                        <div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; width:90px; height:90px; display:flex; align-items:center; justify-content:center;">
                            <img src="public/assets/images/add-user.svg" alt="Add Player" style="width:60px; height:60px; opacity:0.7;">
                        </div>
                        <div class="lobby-player-name" style="color:#fff; font-weight:bold; font-size:1rem; margin-top:0.3em; text-shadow:1px 1px 4px #000;">Waiting...</div>
                    </div>
                </div>
            </div>
            <div style="text-align:center; margin-top:2.2rem;">
                <button id="lobby-start-btn" class="btn" style="background:#FFD600; color:#b71c1c; font-weight:bold; font-size:1.2rem; padding:0.7em 2.5em; border-radius:12px; box-shadow:0 2px 8px #0005; display:none;">Start</button>
            </div>
        </section>

        <!-- Game Screen -->
        <section id="game-screen" class="hidden-screen">
            <button class="btn back-btn" id="game-exit-btn" style="position:absolute;left:1.2rem;top:1.2rem;z-index:2;">Exit</button>
            
            <!-- Player Info Display -->
            <div id="game-player-info" style="position:absolute;right:1.2rem;top:1.2rem;z-index:2;display:flex;align-items:center;gap:0.6rem;background:rgba(0,0,0,0.8);padding:0.5rem 0.8rem;border-radius:8px;border:2px solid #FFD600;max-width:200px;">
                <img id="game-player-avatar" src="public/assets/images/avatar/exported avatar/ava-1.svg" alt="Player Avatar" style="width:36px;height:36px;border-radius:6px;border:2px solid #FFD600;background:#fff;">
                <div style="display:flex;flex-direction:column;">
                    <span id="game-player-name" style="color:#fff;font-weight:bold;font-size:0.9rem;text-shadow:1px 1px 2px #000;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:120px;">Player Name</span>
                    <span style="color:#FFD600;font-size:0.7rem;font-weight:bold;">You</span>
                </div>
            </div>
            
            <h2 style="color: #FFD600; text-shadow: 2px 2px 8px #b71c1c; margin-bottom: 0.5rem; margin-top: 4rem; text-align:center;">UNO GAME</h2>
            <div id="game-info" style="margin-bottom:1rem;text-align:center;"></div>
            <div id="game-table" style="display:flex;flex-direction:column;align-items:center;gap:1.5rem;max-width:90vw;margin:0 auto;">
                <div id="top-card-area" style="margin-bottom:1.2rem;">
                    <span style="color:#fff;font-weight:bold;">Top Card:</span>
                    <img id="top-card-img" src="" alt="Top Card" style="vertical-align:middle;">
                    <span id="current-color-indicator" style="display:inline-block;width:22px;height:22px;border-radius:50%;margin-left:0.7em;vertical-align:middle;"></span>
                    
                    <!-- Drawn card display moved to top card area -->
                    <div id="drawn-card-options" class="hidden-screen">
                        <div id="drawn-card-display">
                            <span style="color:#fff; font-weight:bold;">You Drew:</span>
                            <div id="drawn-card-visual"></div>
                        </div>
                        <div style="display:flex; gap:1rem;">
                            <button id="play-drawn-card-btn" class="btn">Play Drawn Card</button>
                            <button id="pass-drawn-card-btn" class="btn" style="background:var(--uno-gray);">Keep Card & Pass</button>
                        </div>
                    </div>
                </div>
                <div id="player-hand-area" style="margin-bottom:1.2rem;">
                    <span style="color:#fff;font-weight:bold;">Your Hand:</span>
                    <div id="player-hand" style="display:flex;gap:0.5rem;flex-wrap:wrap;margin-top:0.7rem;justify-content:center;"></div>
                </div>
                <div>
                    <button id="draw-card-btn" class="btn" style="background:#FFD600;color:#b71c1c;font-weight:bold;">Draw Card</button>
                </div>
                
                <!-- UNO Call Buttons -->
                <div id="uno-call-section" class="hidden-screen" style="margin-top:1rem;">
                    <button id="call-uno-btn" class="uno-call-btn">
                        <span class="uno-call-text">‚ö° Call UNO! ‚ö°</span>
                    </button>
                </div>
                
                <!-- Self UNO Button (for when you have 1 card) -->
                <div id="uno-self-section" class="hidden-screen" style="margin-top:1rem;">
                    <button id="call-uno-self-btn" class="uno-self-btn">
                        <span class="uno-self-text">üéØ Call UNO (Safe!) üéØ</span>
                    </button>
                    <div style="color:#FFD600;font-size:0.9rem;margin-top:0.5rem;text-align:center;">
                        Click to declare UNO and avoid penalty!
                    </div>
                </div>
                
                <div id="game-message" style="color:#FFD600;font-weight:bold;margin-top:1.2rem;min-height:1.5em;text-align:center;"></div>
            </div>
        </section>

        <!-- Victory Screen (Separate Page) -->
        <section id="victory-screen" class="hidden-screen">
            <div class="victory-content">
                <div class="victory-title">
                    üéâ <span id="victory-winner-name">Winner Name</span> Wins! üéâ
                </div>
                <ul class="victory-players-list" id="victory-players-list">
                    <!-- Player names will be injected here -->
                </ul>
                <div class="victory-buttons">
                    <button class="victory-btn" id="victory-restart-btn">Restart</button>
                    <button class="victory-btn" id="victory-exit-btn">Exit</button>
                </div>
            </div>
        </section>
        <!-- End Victory Screen -->
    </main>



         
   
         <button id="mute-toggle" style="
  position: fixed;
  top: 20px;
  right: 20px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  padding: 10px;
  cursor: pointer;
  z-index: 1000;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
">
  üîä
</button>

<!-- JS files -->
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="src/js/app.js"></script>
</body>
</html>

 
   